
{% extends 'layout.html' %}
    <!--[if lte IE 9]>
            <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
        <![endif]-->

{% block title %}
    DispoLexi | Gr√°fica de Barras
{% endblock %}


{% block content %}

     <!-- bradcam_area -->
     <div class="bradcam_area">
        <div class="single_bradcam  d-flex align-items-center bradcam_bg_1 overlay">
              <div class="container">
                          <div class="bradcam_text text-center">
                            <div class="shape_1 wow fadeInUp" data-wow-duration="1s" data-wow-delay=".2s">
                                <img src="{{ url_for('static', filename = 'img/shape/shape_1.svg')}}" alt="">
                            </div>
                            <div class="shape_2 wow fadeInDown" data-wow-duration="1s" data-wow-delay=".3s">
                                <img src="{{ url_for('static', filename = 'img/shape/shape_2.svg')}}" alt="">
                            </div>
                          </div>
              </div>
           </div>
     </div>
    <!-- bradcam_area end -->

        <section class="contact-section">
            <div class="container">

<canvas id="myChart" width="400" height="{{numero_de_palabras*35 + numero_poblaciones * 40}}"></canvas>
<script>
    var palabras = [];
    {%for x in dic_Palabras_iguales['Palabras']:%}palabras.push('{{x}}')
    {% endfor %}
    var dynamicColors = function() {
            var r = Math.floor(Math.random() * 255);
            var g = Math.floor(Math.random() * 255);
            var b = Math.floor(Math.random() * 255);
            return "rgba(" + r + "," + g + "," + b + ",";
    };
    
    //console.log("valor de palabras: ",palabras);

    var ctx = document.getElementById('myChart').getContext('2d');
    var myChart = new Chart(ctx, {
        type: 'horizontalBar',
        data: {
            labels: palabras,
            datasets:[
                {% set count = [ ] %}
                {% for x in lista_poblaciones:%}
                    {
                    label: '{{x}}',
    
                    data: [{%for z in dic_Palabras_iguales[x]['IDLV']:%}{{z}},{%endfor%}],
                    backgroundColor:'{{listaColoresUno[count|length]}}',
                    borderColor:'{{listaColoresDos[count|length]}}',
                    borderWidth: 2
                    },
                    {% set __ = count.append(1) %}
                {% endfor %}

            ]
        },
        options: {
            scales: {
                yAxes: [{
                    ticks: {
                        fontSize: 15,
                        beginAtZero: true
                    }
                }],
                xAxes: [{
                    type: 'linear',
                    position: 'top'
                }]
            },


        }
    });
</script>

<!--
<script>
    var ctx2 = document.getElementById('myChart2').getContext('2d');
    var scatterChart = new Chart(ctx2, {
        type: 'scatter',
        data: {
            datasets: [{
                label: 'Scatter Dataset',
                data: [{
                    x: 0,
                    y: 10

                }, {
                    x: 10,
                    y: 5
                }]
            }]
        },
        options: {
            scales: {
                xAxes: [{
                    type: 'linear',
                    position: 'top'
                }]
            }
        }
    });
</script>
-->

            </div> 

        </section>
  
{%endblock%}
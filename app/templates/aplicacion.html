{% extends 'layout.html' %}
    <!--[if lte IE 9]>
            <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
        <![endif]-->

{% block title %}
    Herramienta DL
{% endblock %}
<link rel="stylesheet" href="css/video-js.css">
<script src="js/video.js"></script>


{% block content %}

<script>
    function desabilita(){
        var modal = document.getElementById("cargaArchivo");
            modal.innerHTML = " <div class=\"alert alert-success alert-link\" role=\"alert\">"
            + "Espere un momento, el archivo se está subiendo."
            + "<div class=\"spinner-border\" style=\"float:right;\"></div>"
            + "</div>";
        var boton = document.getElementById("botonEnviar");
            boton.setAttribute("disabled","true");
    }
    function carga(){
        var modal = document.getElementById("cargaArchivo");
            modal.innerHTML = " <div class=\"alert alert-success alert-link\" role=\"alert\">"
            + "Espere un momento, el archivo se está subiendo."
            + "<div class=\"spinner-border\" style=\"float:right;\"></div>"
            + "</div>";
        var boton = document.getElementById("subirPrueba");
            boton.setAttribute("disabled","true");

    };
 /*
  function inicializa(){
    let boton = document.getElementById("botonEnviar");
    boton.addEventListener('click', funcion_html);

  };
  function funcion_html(){
    var file = document.getElementById("file_upload").value;
        if (file == false) {
            console.log(file);
        }
        else{
            var modal = document.getElementById("modal");
            modal.innerHTML = modal.innerHTML + ""
            + " <div class=\"modal fade\" id=\"modal_carga\" tabindex=\"-1\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">"
            +       "<div class=\"modal-dialog\">"
            +           "<div class=\"modal-content\" id=\"contenido\">"
            +               "<div class=\"modal-header\">"
            +                  "<h5 class=\"modal-title\" id=\"exampleModalLabel\">Cargando archivo...</h5>"
            +                  "<a href=\"aplicacion\">"     
            +                       "<button type=\"button\" class=\"close\" aria-label=\"Close\">"
            +                           "<span aria-hidden=\"true\">&times;</span>"
            +                       "</button>"
            +                  "</a>"
            +               "</div>"
            +               "<div class=\"modal-body\">"
            +                   "Espere un momento, el archivo se está cargando. <br/><hr/>"
            +                   "<div class=\"text-center\">"
            +                       "<div class=\"spinner-border text-primary\" role=\"status\" style=\"width: 5rem; height: 5rem;\">"
            +                           "<span class=\"sr-only\">Loading...</span>"
            +                       "</div>"
            +                   "</div>"
            +               "</div>"
            +               "<div class=\"modal-footer\">"
            +                  "<a href=\"aplicacion\">"   
            +                       "<button type=\"button\" class=\"btn btn-danger\">Cancelar</button>"
            +                  "</a>"
            +               "</div>"
            +           "</div>"
            +       "</div>"
            + " </div> ";

        }
  };*/
</script>


     <!-- bradcam_area -->
     <div class="bradcam_area">
        <div class="single_bradcam  d-flex align-items-center bradcam_bg_1 overlay">
              <div class="container">
                          <div class="bradcam_text text-center">
                            <div class="shape_1 wow fadeInUp" data-wow-duration="1s" data-wow-delay=".2s">
                                <img src="{{ url_for('static', filename = 'img/shape/shape_1.svg')}}" alt="">
                            </div>
                            <div class="shape_2 wow fadeInDown" data-wow-duration="1s" data-wow-delay=".3s">
                                <img src="{{ url_for('static', filename = 'img/shape/shape_2.svg')}}" alt="">
                            </div>
                                <h3 class="wow fadeInRight" data-wow-duration="2s" data-wow-delay=".3s">Aplicación</h3>
                          </div>
              </div>
           </div>
     </div>
    <!-- bradcam_area end -->


    <!-- ================ contact section start ================= -->

        <section class="contact-section">
            <div class="container">
               {%if valida == 1:%}
                <center>
                <div class="col-lg-9">   
                <div class="alert alert-danger alert-link" role="alert">
                    La extensión del archivo seleccionado es incorrecta! 
                </div>
                </div>
                </center><br>
                {% endif %}
<div class="jumbotron">
 <center> <h1 class="display-4">Contraste de vocabulario.</h1></center>
  <p class="text-dark" align="justify">
    A continuación carga un archivo para procesarlo y poder visualizar distintas gráficas del contraste de vocabulario.

    <br><br>Si no sabes cómo crear tu archivo, puedes dar<a href="home#instrucciones" class="text-danger"> clic aquí</a> para revisar las instrucciones de la aplicación y estructura del archivo. También puedes ver un vídeotutotrial de la aplicación dando clic en el botón de abajo. Como ultima opción, puedes elegir el archivo de ejemplo que ya está cargado en el sistema y ver cómo funciona la aplicación.
</p>
    <center>      
        <button type="button" class="btn btn-danger" data-toggle="modal" data-target=".bd-example-modal-lg">Ver vídeotutorial</button>
    </center> <br><br>
<p class="text-dark" align="justify">
    El archivo que se usa de ejemplo, es un conjuto de archivos de texto recopilados de distintos medios de comunicación y el presidente Andrés Manuel López Obrador. Cada medio de comunicación y el presidente, se establecen como una población diferente a contrastar. Los textos de las distintas poblaciones son sobre lo que se habló en las mañaneras del presidente del 5 al 16 de Octubre del año 2020. También se puede descargar el archivo de ejemplo para visualizar los textos y la estructura del mismo archivo.
  </p>
  <hr class="my-3">



             <br>
            <div class="container">
                
                <div class="row justify-content-center">
                    <div class="col-lg-7">

                         <form class="form-contact contact_form" action="{{url_for('elige_poblaciones')}}" method="POST"  enctype="multipart/form-data" id="formulario" onsubmit="return carga()">
                            
                            <div class="row">
                                <div class="col-6">
                                    <div class="form-group">
                                        <input type="file" class="subirArchivo " name="archivo" multiple required id="file_upload">
                                         
                                    </div>
                                </div>
                                <div class="col">
                                    <button  type="submit" class="btn btn-primary" onclick="data()" data-toggle="modal" data-target="#modal_carga" id="botonEnviar">Subir archivo desde PC</button>
                                </div>   
                            </div>
                        </form>

                        <div id="cargaArchivo">
                            
                        </div>
                    </div>
                </div>
            </div>
            <hr class="my-3">

            <div class="row justify-content-center">
                <div class="col-lg-8">
                    <div class="row">
                        <div class="col-6">
                            <a href="subeArchivoPrueba">
                                <button type="button" class="btn btn-info" id="subirPrueba" onclick="desabilita()">Subir archivo de prueba</button>
                            </a>
                        </div>
                        <div class="col-6">
                            <a href="{{ url_for('static', filename = 'archivos/Mañaneras.zip')}}" download>
                                <button role="button"class="btn btn-info" id="descargaPrueba">Descargar archivo de prueba</button>
                            </a>
                        </div>
                    </div>
                </div>
                        
            </div>
</div>
</div>

<div class="modal fade bd-example-modal-lg" tabindex="1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
        <div class="modal-header">
        <h2 class="modal-title" id="exampleModalLabel">Video de ejemplo</h2>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
       <!-- PARTE NUEVA-->
       <main>
        <div class="contenedor">
            <video class="fm-video video-js vjs-16-9 vjs-big-play-centered" data-setup="{}" controls id="fm-video">
                <source src="{{ url_for('static', filename = 'video/DispoLexi.mp4')}}" type="video/mp4">
            </video>
            <hr>
    <h3>¿Cómo utilizar Dispolexi?</h3>
                <p class="text-dark" align="justify">Este vídeotutorial explica cómo estructurar los archivos para poder subirlos y procesarlos, también explica cómo utilizar la aplicación y poder visualizar el contraste de las diferentes poblaciones.</p>
        </div>
    </main>

       <!--FIN-->
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-dark" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>
    </section>

<script>
        var reproductor = videojs('fm-video', {
            fluid: true
        });
</script>

<script type="text/javascript">
   
    function funcion_click(){
        var file = document.getElementById("file_upload").value;
        if (file == false) {
            console.log("nada ", file);
        }
        else{
            console.log("tiene algo", file);

        }

    };
</script>

{% endblock %}